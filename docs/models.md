# Модели (Models)

В этом разделе описаны все модели Django, используемые в проекте Lingvista.

---

## Audio
Модель для хранения аудиофайлов, используемых в заданиях.

### Поля:
- `title` (CharField): Название аудиофайла (необязательное).
- `audio_file` (FileField): Аудиофайл, загружаемый на сервер (необязательное).
- `audio_url` (URLField): Ссылка на аудиофайл (необязательное).
- `description` (TextField): Описание аудиофайла (необязательное).

### Методы:
- `__str__`: Возвращает название аудио или "Audio", если название не задано.

---

## Profile
Модель профиля пользователя, расширяющая стандартную модель User.

### Поля:
- `user` (OneToOneField): Связь с моделью User.
- `profile_photo` (ImageField): Фото профиля (необязательное).
- `streak` (IntegerField): Текущая серия дней активности (по умолчанию 0).
- `completed_levels` (IntegerField): Количество завершенных уровней (по умолчанию 0).
- `language_level` (CharField): Текущий уровень языка пользователя (необязательное).
- `achievements` (TextField): Достижения пользователя (необязательное).

### Методы:
- `__str__`: Возвращает имя пользователя.
- `get_unlocked_levels`: Возвращает список разблокированных уровней языка.
- `increment_streak`: Увеличивает счетчик серии дней активности на 1.
- `reset_streak`: Сбрасывает счетчик серии дней активности.
- `complete_level`: Увеличивает счетчик завершенных уровней на 1.
- `add_achievement`: Добавляет достижение в профиль пользователя.

---

## LanguageLevel
Модель для хранения уровней языка (A1, A2, B1 и т.д.).

### Поля:
- `level` (CharField): Уровень языка (выбор из `LEVEL_CHOICES`).
- `description` (TextField): Описание уровня (необязательное).

### Константы:
- `LEVEL_CHOICES`: Список доступных уровней языка.

### Методы:
- `__str__`: Возвращает уровень языка.

---

## Lesson
Модель для хранения уроков, связанных с уровнями языка.

### Поля:
- `language_level` (ForeignKey): Связь с моделью LanguageLevel.
- `lesson_number` (IntegerField): Номер урока.
- `title` (CharField): Название урока.
- `description` (TextField): Описание урока (необязательное).

### Методы:
- `__str__`: Возвращает строку в формате "Уровень - Номер урока: Название".

---

## Task
Модель для хранения заданий, связанных с уроками.

### Поля:
- `lesson` (ForeignKey): Связь с моделью Lesson.
- `question` (TextField): Текст вопроса.
- `correct_answer` (CharField): Правильный ответ.
- `option1`, `option2`, `option3` (CharField): Варианты ответов (необязательные).
- `audio` (ForeignKey): Связь с моделью Audio для аудиозаданий (необязательное).

### Методы:
- `__str__`: Возвращает строку с указанием урока, к которому относится задание.

---

## UserTasksProgress
Модель для хранения прогресса пользователя по заданиям.

### Поля:
- `user` (ForeignKey): Связь с моделью User.
- `level` (CharField): Уровень языка (по умолчанию 'A1').
- `lesson` (IntegerField): Номер урока (по умолчанию 1).
- `result` (IntegerField): Результат выполнения (по умолчанию 0).
- `date_completed` (DateTimeField): Дата и время завершения (автоматически добавляется при создании).

### Meta:
- `unique_together`: Гарантирует уникальность комбинации user, level и lesson.

### Методы:
- `__str__`: Возвращает строку с информацией о прогрессе пользователя.

---
